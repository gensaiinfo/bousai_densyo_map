!function(e){function n(n){for(var o,a,c=n[0],l=n[1],s=n[2],u=0,f=[];u<c.length;u++)a=c[u],r[a]&&f.push(r[a][0]),r[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(d&&d(n);f.length;)f.shift()();return i.push.apply(i,s||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],o=!0,c=1;c<t.length;c++){var l=t[c];0!==r[l]&&(o=!1)}o&&(i.splice(n--,1),e=a(a.s=t[0]))}return e}var o={},r={1:0},i=[];function a(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=o,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)a.d(t,o,function(n){return e[n]}.bind(null,o));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=n,c=c.slice();for(var s=0;s<c.length;s++)n(c[s]);var d=l;i.push([3,0]),t()}([,,,function(e,n,t){"use strict";t.r(n);t(11),t(9);var o,r,i=t(0),a=t.n(i),c=t(1),l=t(2),s=(t(7),t(5),o=u(function*(e,n,t,o){var r=yield c.a(e);return yield a.a.geoJson(l.a(r,r.objects.japan),{style:n,onEachFeature:t,filter:o})}),function(e,n,t,r){return o.apply(this,arguments)}),d=(r=u(function*(){var e=yield c.a(g),n=function(e){return function(n,t){var o=document.querySelector("#name"),r=document.querySelector("#densyo>dl");r.innerText="",o.innerText=t;var i=e[n];i.forEach(function(e){var n=document.createElement("dt"),t=e.old_name?"[旧 "+e.old_name+"] ":"";n.textContent=t+e.description,r.appendChild(n);var o=document.createElement("dd"),i=""!==e.source?'<div class="src">('+e.source+")</div>":"";o.innerHTML=e.meaning+i,r.appendChild(o),document.documentElement.clientWidth<960&&(document.querySelector("#info").style.display="flex")})}}(e),t={filter:function(e){return function(n){var t=n.properties.code6;return void 0!==e[t]}}(e),onEachFeature:function(e){return function(n,t){var o=n.properties;if(o&&o.name){var r="["+o.code6+"] "+o.pref;o.pref!==o.name&&(r=r+" "+o.name),t.bindPopup(r),t.on("click",function(n){p.fitBounds(n.target.getBounds()),e(o.code6,r)})}t.id=o.code6}}(n)};(yield Promise.all([s(b,{className:"geo-feature prefs"},t.onEachFeature,t.filter),s(y,{className:"geo-feature towns"},t.onEachFeature,t.filter)])).forEach(function(e){e.addTo(p)})}),function(){return r.apply(this,arguments)});function u(e){return function(){var n=e.apply(this,arguments);return new Promise(function(e,t){return function o(r,i){try{var a=n[r](i),c=a.value}catch(e){return void t(e)}if(!a.done)return Promise.resolve(c).then(function(e){o("next",e)},function(e){o("throw",e)});e(c)}("next")})}}var f={center:[35.3622222,134.7313889],zoom:5,minZoom:5,maxZoom:9},p=a.a.map("map",f);a.a.tileLayer("https://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",{attribution:'<i class="fa fa-copyright" aria-hidden="true"></i><a href="https://www.openstreetmap.org/copyright" target="_blank" rel="noopener">OpenStreetMap<i class="fa fa-external-link" aria-hidden="true"></i></a> contributors | 国土交通省国土政策局「国土数値情報（行政区域データ）」'}).addTo(p);var h=a.a.control({position:"topleft"});function m(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var n=[e.coords.latitude,e.coords.longitude];p.setView(n,f.maxZoom)},function(e){alert("位置情報の取得に失敗しました。"+e)}):alert("あなたの端末では、現在位置を取得できません。")}h.onAdd=function(e){var n=a.a.DomUtil.create("div"," home leaflet-control leaflet-bar"),t=a.a.DomUtil.create("a");return t.addEventListener("click",function(){return e.setView(f.center,f.zoom)}),t.href="#",t.title="Move to Home position",t.innerHTML='<i class="fa fa-home" aria-hidden="true"></i>',n.appendChild(t),n},h.addTo(p);var v=a.a.control({position:"topleft"});v.onAdd=function(){var e=a.a.DomUtil.create("div"," home leaflet-control leaflet-bar"),n=a.a.DomUtil.create("a");return n.addEventListener("click",m),n.href="#",n.title="Move to your current position",n.innerHTML='<i class="fa fa-location-arrow" aria-hidden="true"></i>',e.appendChild(n),e},v.addTo(p);var g="./jsons/saigai_densyo.json",y="./jsons/japan.topojson",b="./jsons/japan_prefs.topojson";d(),document.querySelector("#close-btn").addEventListener("click",function(){document.querySelector("#info").style.display="none"});t(4);navigator.serviceWorker&&navigator.serviceWorker.register("worker.js",{scope:"/bousai_densyo_map/"}).then(function(e){e.update()})},function(e,n,t){e.exports=t.p+"worker.js"},function(e,n){e.exports='<!DOCTYPE html>\n<html lang="ja">\n<head>\n  <meta name="viewport" content="width=device-width,initial-scale=1">\n  <meta charset="utf-8">\n  <title>防災に関わる「言い伝え」MAP</title>\n  <link rel="manifest" href="manifest.json">\n\n  <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">\n  <link rel="icon" type="image/png" href="icons/favicon-32x32.png" sizes="32x32">\n  <link rel="icon" type="image/png" href="icons/favicon-16x16.png" sizes="16x16">\n  <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">\n  <link rel="shortcut icon" href="icons/favicon.ico">\n  <meta name="msapplication-config" content="icons/browserconfig.xml">\n  <meta name="theme-color" content="#ffffff">\n</head>\n<body>\n  <div id="container">\n    <header>\n      <h1>防災に関わる「言い伝え」MAP</h1>\n      <p>出典： <a href="https://www.fdma.go.jp/html/life/saigai_densyo/02.pdf" target="_blank" rel="noopener">防災に関わる「言い伝え」(総務省消防庁)</a></p>\n      <p>地図上の緑のエリアをタップしてください </p>\n    </header>\n    <div id="map"></div>\n    <div id="info">\n      <div class="content">\n        <div class="close-btn" id="close-btn">\n          <i class="fa fa-times-circle" aria-hidden="true"></i>\n        </div>\n        <h1>防災に関わる「言い伝え」MAP</h1>\n        <p>出典： <a href="https://www.fdma.go.jp/html/life/saigai_densyo/02.pdf" target="_blank" rel="noopener">防災に関わる「言い伝え」(総務省消防庁)</a></p>\n        <p>地図上の緑のエリアをクリックしてください </p>\n        <h2 id="name"></h2>\n        <div id="densyo">\n          <dl></dl>\n        </div>\n      </div>\n    </div>\n  </div>\n</body>\n</html>\n'},,function(e,n,t){}]);
//# sourceMappingURL=bundle.js.map