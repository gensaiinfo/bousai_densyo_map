!function(e){function n(n){for(var r,i,c=n[0],u=n[1],l=n[2],d=0,f=[];d<c.length;d++)i=c[d],o[i]&&f.push(o[i][0]),o[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(s&&s(n);f.length;)f.shift()();return a.push.apply(a,l||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],r=!0,c=1;c<t.length;c++){var u=t[c];0!==o[u]&&(r=!1)}r&&(a.splice(n--,1),e=i(i.s=t[0]))}return e}var r={},o={1:0},a=[];function i(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=r,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)i.d(t,r,function(n){return e[n]}.bind(null,r));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=n,c=c.slice();for(var l=0;l<c.length;l++)n(c[l]);var s=u;a.push([3,0]),t()}({3:function(e,n,t){"use strict";t.r(n);t(9),t(7);var r,o,a=t(0),i=t.n(a),c=t(1),u=t(2),l=(t(5),r=d(function*(e,n,t,r){var o=yield c.a(e);return yield i.a.geoJson(u.a(o,o.objects.japan),{style:n,onEachFeature:t,filter:r})}),function(e,n,t,o){return r.apply(this,arguments)}),s=(o=d(function*(){var e=yield c.a(y),n=function(e){return function(n,t){var r=document.querySelector("#name"),o=document.querySelector("#densyo>dl");o.innerText="",r.innerText=t;var a=e[n];a.forEach(function(e){var n=document.createElement("dt"),t=e.old_name?"[旧 "+e.old_name+"] ":"";n.textContent=t+e.description,o.appendChild(n);var r=document.createElement("dd"),a=""!==e.source?'<div class="src">('+e.source+")</div>":"";r.innerHTML=e.meaning+a,o.appendChild(r),document.documentElement.clientWidth<960&&(document.querySelector("#info").style.display="flex")})}}(e),t={filter:function(e){return function(n){var t=n.properties.code6;return void 0!==e[t]}}(e),onEachFeature:function(e){return function(n,t){var r=n.properties;if(r&&r.name){var o="["+r.code6+"] "+r.pref;r.pref!==r.name&&(o=o+" "+r.name),t.bindPopup(o),t.on("click",function(n){p.fitBounds(n.target.getBounds()),e(r.code6,o)})}t.id=r.code6}}(n)};(yield Promise.all([l(b,{className:"geo-feature prefs"},t.onEachFeature,t.filter),l(g,{className:"geo-feature towns"},t.onEachFeature,t.filter)])).forEach(function(e){e.addTo(p)})}),function(){return o.apply(this,arguments)});function d(e){return function(){var n=e.apply(this,arguments);return new Promise(function(e,t){return function r(o,a){try{var i=n[o](a),c=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});e(c)}("next")})}}var f={center:[35.3622222,134.7313889],zoom:5,minZoom:5,maxZoom:9},p=i.a.map("map",f);i.a.tileLayer("https://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",{attribution:'<i class="fa fa-copyright" aria-hidden="true"></i><a href="https://www.openstreetmap.org/copyright" target="_blank" rel="noopener">OpenStreetMap<i class="fa fa-external-link" aria-hidden="true"></i></a> contributors | 国土交通省国土政策局「国土数値情報（行政区域データ）」'}).addTo(p);var v=i.a.control({position:"topleft"});function m(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var n=[e.coords.latitude,e.coords.longitude];p.setView(n,f.maxZoom)},function(e){alert("位置情報の取得に失敗しました。"+e)}):alert("あなたの端末では、現在位置を取得できません。")}v.onAdd=function(e){var n=i.a.DomUtil.create("div"," home leaflet-control leaflet-bar"),t=i.a.DomUtil.create("a");return t.addEventListener("click",function(){return e.setView(f.center,f.zoom)}),t.href="#",t.title="Move to Home position",t.innerHTML='<i class="fa fa-home" aria-hidden="true"></i>',n.appendChild(t),n},v.addTo(p);var h=i.a.control({position:"topleft"});h.onAdd=function(){var e=i.a.DomUtil.create("div"," home leaflet-control leaflet-bar"),n=i.a.DomUtil.create("a");return n.addEventListener("click",m),n.href="#",n.title="Move to your current position",n.innerHTML='<i class="fa fa-location-arrow" aria-hidden="true"></i>',e.appendChild(n),e},h.addTo(p);var y="./jsons/saigai_densyo.json",g="./jsons/japan.topojson",b="./jsons/japan_prefs.topojson";s(),document.querySelector("#close-btn").addEventListener("click",function(){document.querySelector("#info").style.display="none"}),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("sw.js",{scope:"/bousai_densyo_map/"})})},5:function(e,n,t){}});
//# sourceMappingURL=bundle.js.map